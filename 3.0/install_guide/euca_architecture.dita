<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="euca_architecture">
	<title>Understanding the Eucalyptus Architecture</title>
 <shortdesc></shortdesc>
 <conbody>
 	<p>The following image depicts the logical relationship between Eucalyptus components in a generalized deployment.</p>
 	<image href="images/euca_architecture.png"/>
 	<draft-comment>Get new image</draft-comment>
 	<p>The front-end components, Cloud Controller (CLC) and Walrus, communicate with middle-tier components, the Cluster Controllers (CCs) and Storage Controllers (SCs). The CCs and SCs, in turn, communicate with the node controllers (NCs). The networks between machines hosting these components must be able to allow TCP connections between them. </p>
 <p>	However, if the CCs are on separate network interfaces (one for the network on which the front-end components are hosted and another for the network that NCs use) the CCs will act as software routers between these networks. So each cluster can use an internal private network for its NCs and the CCs will route traffic from that network to a network shared by the front-end components. </p>
 	<p>Virtual machines (VMs) run on the machines that host NCs. You can use the CCs as software routers for traffic between clients outside Eucalyptus and VMs. Or the VMs can use the routing framework already in place without CC software routers. However, depending on the layer-2 isolation characteristics of your existing network, you might not be able to implement all of the security features supported by Eucalyptus.</p>
 	<section>
 		<title>Eucalyptus HA</title>
 		<draft-comment>Let's talk more about HA archicture before we talk about Arbitrator. It makes it
 			sound like Arbitrator is required for HA.</draft-comment>
 		<p>If you configure Eucalyptus for high availability (HA), the components are duplicated. There
 			is a primary component and a secondary component.</p>
 			
 		<image href="images/euca_ha.png" alt="Image depicting the Eucalyptus HA"/>
 		<p>Eucalyptus HA uses a service called Arbitrator that monitors connectivity
 			between a user and a user-facing component (CLC, Walrus, and CC). An Arbitrator 
 			approximates reachability to a user. Each Arbitrator uses ICMP messages
 			to periodically test reachability to an external entity (for example, a
 			network gateway or border router) or to an external site (for example,
 			google.com).</p>
 		<draft-comment>Need to emphasize that Arbitrator is not required in HA. It is nice to have to test connectivity with a user but CLC and Walrus can work perfectly well without them.</draft-comment>
 		<p>If all Arbitrators fail to reach its monitored
 			entity, Eucalyptus assumes there is a loss of connectivity between a user and the
 			component. At that point a failover occurs. To allow for normal outages and
 			maintenance, we recommend that you register more than one Arbitrator for
 			each user-facing component.</p>
 	</section>
 	
 </conbody>
</concept>
