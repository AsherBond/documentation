<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/admin_guide/temp/temp20120430200635367/admin_guide?><?path2project ../?><concept xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="securing_system" ditaarch:DITAArchVersion="1.2" domains="(topic concept)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)    " class="- topic/topic concept/concept " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="concept:1">
	<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="title:1">Securing Your Cloud</title>
	<shortdesc class="- topic/shortdesc " xtrc="shortdesc:1" xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita"/>
	<prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<copyryear class="- topic/copyryear " xtrc="copyryear:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" year="2012"/>
			<copyrholder class="- topic/copyrholder " xtrc="copyrholder:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus Systems</copyrholder>
		</copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<prodname class="- topic/prodname " xtrc="prodname:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus</prodname>
			<vrmlist class="- topic/vrmlist " xtrc="vrmlist:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
				<vrm class="- topic/vrm " version="3.0" xtrc="vrm:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"/>
			</vrmlist>
		</prodinfo></metadata></prolog><conbody class="- topic/body  concept/conbody " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="conbody:1">
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:1">Eucalyptus components receive and exchange messages using either Query or SOAP interfaces (or
			both). Messages received over these interfaces are required to have some form of a time stamp
			(as defined by AWS specification) to prevent message replay attacks. Because Eucalyptus
			enforces strict policies when checking timestamps in the received messages, for the correct
			functioning of the cloud infrastructure, it is crucial to have clocks constantly synchronized
			(for example, with ntpd) on all machines hosting Eucalyptus components. To prevent user
			commands failures, it is also important to have clocks synchronized on the client
			machines.</p>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:2">Following the AWS specification, all Query interface requests containing the Timestamp
			element are rejected as expired after 15 minutes of the timestamp. Requests containing the
			Expires element expire at the time specified by the element. SOAP interface requests using
			WS-Security expire as specified by the WS-Security Timestamp element. </p>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:3">When checking the timestamps for expiration, Eucalyptus allows up to 20 seconds of clock drift
			between the machines. This is a default setting. You can change this value for the CLC at
			runtime by setting the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="codeph:1">bootstrap.webservices.clock_skew_sec</codeph> property as follows:</p>
		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="codeblock:1">euca-modify-property -p bootstrap.webservices.clock_skew_sec=&lt;new_value_in_seconds&gt;</codeblock>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:4">For additional protection from the message replay attacks, the CLC implements a replay
			detection algorithm and rejects messages with the same signatures received within 15 minutes. </p>
		<note type="important" class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="note:1">To protect against replay attacks, the CLC only caches messages for 15
			minutes. So itâ€™s important that any client tools used to interact with the CLC have the Expires
			element set to a value less than 15 minutes from the current time. This is usually not an issue
			with standard tools, such as euca2ools and Amazon EC2 API Tools. </note>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:5">You can configure replay detection in the CLC to allow replays of the same message for a set
			time 
			period. This might be needed to ensure that legitimate requests submitted by automated
			scripts closely together (such as two requests to describe instances issued within the same
			second) are not rejected as malicious. The time within which messages with the same signatures
			are accepted is controlled by the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="codeph:2">bootstrap.webservices.replay_skew_window_sec</codeph> property. The default value of
			this property is three seconds. To change this value, enter the following command:</p>
		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="codeblock:2">euca-modify-property -p bootstrap.webservices.replay_skew_window_sec=&lt;new_value_in_seconds&gt;</codeblock>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:6">If you set this property to <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="codeph:3">0</codeph>, Eucalyptus will not allow any message
			replays. This setting provides the best protection against message replay attacks, but may
			break some of the client-side scripts that issue commands too quickly.</p>
		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/securing_system.dita" xtrc="p:7">If you set this property to any value greater than 15 minutes plus the values of
			ws.clock_skew_sec (that is, to a value &gt;= 920 sec in the default installation), Eucalyptus
			disables replay detection completely. </p>

	</conbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:13" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:11" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" href="../admin_guide/bps.xml" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Best Practices</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link></linkpool></related-links>
</concept>