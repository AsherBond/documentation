<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/admin_guide/temp/temp20120430200635367/admin_guide?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="inspect_health" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="title:1">Inspect System Health</title>
    <shortdesc class="- topic/shortdesc " xtrc="shortdesc:1" xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita"/>
    <prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<copyryear class="- topic/copyryear " xtrc="copyryear:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" year="2012"/>
			<copyrholder class="- topic/copyrholder " xtrc="copyrholder:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus Systems</copyrholder>
		</copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<prodname class="- topic/prodname " xtrc="prodname:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus</prodname>
			<vrmlist class="- topic/vrmlist " xtrc="vrmlist:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
				<vrm class="- topic/vrm " version="3.0" xtrc="vrm:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"/>
			</vrmlist>
		</prodinfo></metadata></prolog><taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:1">Eucalyptus provides access to the current view of service state and the ability to
        		manipulate the state. You can inspect the service state to either ensure system health or
        		to identify faulty services. You can modify a service state to maintain activities and
        		apply external service placement policies. </p>
        </context>
        
    </taskbody>
	<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:16" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:15" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" href="../admin_guide/system_tasks.xml" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Cloud Tasks</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">Listing of the cloud-related tasks.</desc></link></linkpool></related-links>
<task id="inspect_health_inspect" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="task:2">
		<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="title:2">View Service State</title>
		<shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="shortdesc:2"/>
		<taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="taskbody:2">
			<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="context:2">
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:2">Use the <cmdname class="+ topic/keyword sw-d/cmdname " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="cmdname:1">euca-describe-services</cmdname> command to view the service state. The output indicates:</p>
				<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="ul:1">
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:1">Component type of the service</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:2">Partition in which the service is registered</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:3">Unique name of the service</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:4">Current view of service state</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:5">Last reported epoch (this can be safely ignored)</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:6">Service URI</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:7">Fully qualified name of the service (This is needed for manipulating services that did not get
						unique names during registration. For example: internal services like reporting or DNS)</li>
				</ul>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:3">The default output includes the services that are registered during configuration, as well as
					information about the DNS service, if present. You can obtain additional service state information, such as 
					internal services, by providing the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:1">-system-internal</codeph> flag.</p>

					
					<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:4">You can also make requests to retrieve service information that is filtered by either:</p>
				<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="ul:2">
				<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:8">current state (for example, <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:2">NOTREADY</codeph>)</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:9">host where service is registered</li> 
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:10">partition where service is registered</li>
					<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="li:11">type of service (for example, CC or Walrus)</li>
				</ul>	
					<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:5">When you investigate service failures, you can specify <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:3">-events</codeph> to return a
						summary of the last fault. You can retrieve extended information (primarily useful for
						debugging) by specifying <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:4">-events -events-verbose</codeph>.</p>

				
			</context>
			
		</taskbody>
	</task>
	<task id="inspect_health_mod" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="task:3">
		<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="title:3">Modify Service State</title>
		<shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="shortdesc:3"/>
		<taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="taskbody:3">
			<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="context:3">
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:6">To modify a service:</p>
			</context>
			<steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="steps:1">
				<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="step:1">
					<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="cmd:1">Enter the following command:</cmd>
					<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="info:1">
						<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeblock:1">euca-modify-service &lt;service_name&gt; -s &lt;new_service_state&gt;</codeblock>
					</info>
				</step>
			</steps>
			<example class="- topic/example " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="example:1">
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:7">If, for example, you have SCs that are correctly configured and operating in HA mode.
					However, you want to shut down the primary SC for maintenance. The
					primary SC is <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:5">SC00</codeph> and the secondary SC is <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:6">SC01</codeph>.
					<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:7">SC00</codeph> is <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:8">ENABLED</codeph> and <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:9">SC01</codeph> is
					<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:10">DISABLED</codeph>.</p>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:8">To disable <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:11">SC00</codeph> and cause <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:12">SC01</codeph> to take over, you would
				enter:</p>
				<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeblock:2">euca-modify-service SC00 -s DISABLED</codeblock>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:9">To check status of services, you would enter:</p>
				<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeblock:3">euca-describe-services</codeblock>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:10">When <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:13">SC01</codeph> is marked <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:14">ENABLED</codeph>, the eucalyptus-cloud process
					on the host that SC00 is running can be safely shutdown and maintenance tasks can be performed.
					When maintenance is complete, you can start the eucalyptus-cloud process on
					<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:15">SC00</codeph>. <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:16">SC00</codeph> will enter the <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:17">DISABLED</codeph> state by
					default. You can chose to let <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:18">SC00</codeph> continue to be the primary and <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:19">SC01</codeph> will be the secondary.</p>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:11">If you want to designate <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:20">SC00</codeph> as the primary, make sure no volumes or
					snapshots are being created and that no volumes are being attached or detached, and then enter:</p>
				<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeblock:4">euca-modify-service SC01 -s DISABLED</codeblock>
				<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="p:12">Monitor the state of services using <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:21">euca-describe-services</codeph> until
					<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:22">SC01</codeph> is marked <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:23">DISABLED</codeph> and <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:24">SC00</codeph> is <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/admin_guide/inspect_health.dita" xtrc="codeph:25">ENABLED</codeph>.</p>
			</example>
		</taskbody>
	</task>
</task>