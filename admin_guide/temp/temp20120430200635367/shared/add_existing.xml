<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/admin_guide/temp/temp20120430200635367/shared?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="add_existing" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="title:1">Add an Image</title>
    <shortdesc class="- topic/shortdesc " xtrc="shortdesc:1" xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita"/>
    <prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<copyryear class="- topic/copyryear " xtrc="copyryear:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" year="2012"/>
			<copyrholder class="- topic/copyrholder " xtrc="copyrholder:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus Systems</copyrholder>
		</copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<prodname class="- topic/prodname " xtrc="prodname:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus</prodname>
			<vrmlist class="- topic/vrmlist " xtrc="vrmlist:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
				<vrm class="- topic/vrm " version="3.0" xtrc="vrm:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"/>
			</vrmlist>
		</prodinfo></metadata></prolog><taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="p:1">An image is the basis for instances that you spin up for your computing needs. If you have
        		access to images that meet
        		your needs, you can skip this section. This section explains how to add an image to your
        		Eucalyptus cloud that is customized for your needs.</p>
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="p:2">There are a few ways you can add an image to Eucalyptus:</p>
        	<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="ul:1">
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:1"><b class="+ topic/ph hi-d/b " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="b:1">Add an image based on an existing image.</b> If you have an image already, read the rest of this
        			section. Eucalyptus has stock images available to help you get started right away. You
        			can find links to these images in the Dashboard's start page. You can also get images
        			from the <xref href="http://http://emis.eucalyptus.com/" format="html" scope="external" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="xref:1"><?ditaot usertext?>Eucalyptus Machine Images</xref> page.</li>
        		
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:2">Add an image that you modify from an existing image. If you have an image that you want to
        			modify, see <xref href="image_modify.xml" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="xref:2" type="task"><?ditaot gentext?>Modify an Image<?ditaot genshortdesc?><desc class="- topic/desc "/></xref>.</li>
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:3">Add an image that you create. If you want to create a new image, see
        			<xref href="creating_images.xml" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="xref:3" type="concept"><?ditaot gentext?>Create an Image<?ditaot genshortdesc?><desc class="- topic/desc "/></xref>.</li>
        		
        	</ul>
        	
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="p:3">Each of these three ways has a different first step, but the way you get image to Eucalyptus is
        		the same. To enable an image as an executable entity, you do the following:</p>
        	<ol class="- topic/ol " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="ol:1">
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:4">Bundle a root disk image and kernel/ramdisk pair</li>
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:5">Upload the bundled image to Walrus bucket storage</li>
        		<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="li:6">Register the data with Eucalyptus</li>
        	</ol>
        	
        	<note type="important" class="- topic/note " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="note:1">Note that while all users can bundle, upload and register images, only the administrator has the required permissions to upload and register kernels and ramdisks.</note>  
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_existing.dita" xtrc="p:4">Once you have an image that meets your needs, perform the
            	tasks listed in this section to add the image to your cloud.</p>
        </context>
        
    </taskbody>
	<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:103" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:102" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" href="../shared/working_images.xml" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Image Tasks</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link></linkpool></related-links>
<task id="add_existing_kernel" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="title:1">Add a Kernel</title>
    <shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="shortdesc:1"/>
    <taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="p:1">When you add a kernel to Walrus, you bundle the kernel file, upload the file to a bucket
        	in Walrus that you name, and then register the kernel with Eucalyptus.</p>
            <p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="p:2">To add a kernel to Walrus:</p>
        </context>
        <steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="steps:1">
            <step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="step:1">
                <cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="cmd:1">Use the following three commands:</cmd>
            	<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="info:1">
            		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="codeblock:1">euca-bundle-image -i &lt;kernel_file&gt; --kernel true
euca-upload-bundle -b &lt;kernel_bucket&gt; -m /tmp/&lt;kernel_file&gt;.manifest.xml
euca-register &lt;kernel_bucket&gt;/&lt;kernel_file&gt;.manifest.xml</codeblock>
            	</info>
            </step>
        </steps>
    	<example class="- topic/example " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="example:1">
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="p:3">For example:</p>
    		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="codeblock:2">euca-bundle-image -i euca-fedora-10-x86_64/xen-kernel/vmlinuz-2.6.27.21-0.1-xen --kernel true
...
Generating manifest /tmp/vmlinuz-2.6.27.21-0.1-xen.manifest.xml

euca-upload-bundle -b example_kernel_bucket -m /tmp/vmlinuz-2.6.27.21-0.1-xen.manifest.xml
...

euca-register example_kernel_bucket/vmlinuz-2.6.27.21-0.1-xen.manifest.xml
IMAGE	eki-XXXXXXXX</codeblock>
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="p:4">Where the returned value <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/add_kernel.dita" xtrc="codeph:1">eki-XXXXXXXX</codeph> is the unique ID of the registered kernel image.</p>
    	</example>
    	
    </taskbody>
</task>
	<task id="add_existing_ramdisk" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="title:1">Add a Ramdisk</title>
    <shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="shortdesc:1"/>
    <taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="p:1">When you add a ramdisk to Walrus, you bundle the ramdisk file, upload the file to a bucket
        		in Walrus that you name, and then register the ramdisk with Eucalyptus.</p>
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="p:2">To add a ramdisk to Walrus:</p>
        </context>
        <steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="steps:1">
            <step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="step:1">
            	<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="cmd:1">Use the following three commands:</cmd>
            	<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="info:1">
            		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="codeblock:1">euca-bundle-image -i &lt;ramdisk_file&gt; --ramdisk true
euca-upload-bundle -b &lt;ramdisk_bucket&gt; -m /tmp/&lt;ramdisk_file&gt;.manifest.xml
euca-register &lt;ramdisk_bucket&gt;/&lt;ramdisk_file&gt;.manifest.xml</codeblock>
            	</info>
            </step>
        </steps>
    	<example class="- topic/example " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="example:1">
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="p:3">For example:</p>
    		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="codeblock:2">euca-bundle-image -i euca-fedora-10-x86_64/xen-kernel/initrd-2.6.27.21-0.1-xen --ramdisk true
...
Generating manifest /tmp/initrd-2.6.27.21-0.1-xen.manifest.xml

euca-upload-bundle -b example_rd_bucket -m /tmp/initrd-2.6.27.21-0.1-xen.manifest.xml
...
Uploaded image as example_rd_bucket/initrd-2.6.27.21-0.1-xen.manifest.xm

euca-register example_rd_bucket/initrd-2.6.27.21-0.1-xen.manifest.xml
IMAGE	eri-XXXXXXXX
    		</codeblock>
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="p:4">Where the returned value <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/add_ramdisk.dita" xtrc="codeph:1">eri-XXXXXXXX</codeph> is the unique ID of the registered
    			ramdisk image.</p>
    	</example>
    	
    </taskbody>
</task>
	<task id="add_existing_image" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="title:1">Add a Root Filesystem</title>
    <shortdesc class="- topic/shortdesc " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="shortdesc:1"/>
    <taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="p:1">When you add a root filesystem to Walrus, you bundle the root filesystem file, upload the file to a bucket
        		in Walrus that you name, and then register the root filesystem with Eucalyptus. The bundle
        		operation can include a registered ramdisk (ERI ID) and a registered kernel (EKI ID). The
        		resulting image would will associate the three images.</p>
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="p:2">You can also bundle the root file system independently and associate the ramdisk and
        		kernel with the resulting EMI at run time. For more information, see <xref href="associating_ekieri.xml" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="xref:1" type="task"><?ditaot gentext?>Associate a Kernel and Ramdisk<?ditaot genshortdesc?><desc class="- topic/desc "/></xref>.</p>
        	
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="p:3">To add a root filesystem to Walrus:</p>
        </context>
        <steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="steps:1">
            <step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="step:1">
                <cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="cmd:1">Use the following three commands:</cmd>
            	<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="info:1">
            		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="codeblock:1">euca-bundle-image -i &lt;root_filesystem_file&gt; 
euca-upload-bundle -b &lt;root_filesystem_file_bucket&gt; -m /tmp/&lt;root_filesystem_file&gt;.manifest.xml
euca-register &lt;root_filesystem_file_bucket&gt;/&lt;root_filesystem_file&gt;.manifest.xml</codeblock>
            	</info>
            </step>
        </steps>
    	<example class="- topic/example " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="example:1">
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="p:4">For example:</p>
    		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="codeblock:2">euca-bundle-image -i euca-fedora-10-x86_64/fedora.10.x86-64.img  --ramdisk eri-722B3CBA --kernel eki-5B3D3859
...
Generating manifest /tmp/fedora.10.x86-64.img.manifest.xml

euca-upload-bundle -b example_rf_bucket -m /tmp/fedora.10.x86-64.img.manifest.xml
...
Generating manifest /tmp/fedora.10.x86-64.img.manifest.xml

euca-register example_rf_bucket/fedora.10.x86-64.img.manifest.xml
IMAGE	 emi-XXXXXXXX</codeblock>
    		<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="p:5">Where the returned value <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/add_rootfs.dita" xtrc="codeph:1">emi-XXXXXXXX</codeph> is the unique ID of the registered
    			machine image.</p>
    	</example>
    	
    </taskbody>
</task>
</task>