<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/admin_guide/temp/temp20120430200635367/shared?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="images_xen_win_wis" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="task:1">
	<title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="title:1">Install Eucalyptus Windows Integration</title>
	<shortdesc class="- topic/shortdesc " xtrc="shortdesc:1" xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita"/>
	<prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<copyryear class="- topic/copyryear " xtrc="copyryear:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" year="2012"/>
			<copyrholder class="- topic/copyrholder " xtrc="copyrholder:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus Systems</copyrholder>
		</copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<prodname class="- topic/prodname " xtrc="prodname:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus</prodname>
			<vrmlist class="- topic/vrmlist " xtrc="vrmlist:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
				<vrm class="- topic/vrm " version="3.0" xtrc="vrm:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"/>
			</vrmlist>
		</prodinfo></metadata></prolog><taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="taskbody:1">
		<context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="context:1">
			<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="p:1">To install Eucalyptus Windows Integration:</p>
		</context>
		<steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="steps:1">
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:1">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:1">Use yum or apt-get to download the Eucalyptus tool. </cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="info:1">
					<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeblock:1">yum install eucalyptus-windows-tools
apt-get install eucalyptus-windows-tools</codeblock>
				</info>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:2">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:2">Copy <filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="filepath:1">/usr/share/eucalyptus/eucawin.iso</filepath> to the working directory of your NC.</cmd>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:3">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:3">Open the libvirt-xen-windows-example.xml file and make the following edits:</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="info:2">
					<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="ul:1">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:1">Comment out the lines of XML code directing Xen to boot the Windows image from the CDROM.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:2">Change the text so that <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeph:1">eucawin.iso</codeph> replaces the Windows .iso image and is mounted as <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeph:2">cdrom</codeph>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:3">Enter the path to the secondary disk file you created in the <xref href="images_xen_win_baseos.xml#images_xen_win_baseos/xen_win_secondary_disk" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="xref:1" type="step"><?ditaot usertext?>previous task</xref>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:4">Uncomment the lines that direct attachment of a floppy disk and secondary disk.</li>
					</ul>
					<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="p:2">Your finished file should look similar to the following example:</p>
					<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeblock:2">&lt;domain type='xen'&gt;
    &lt;name&gt;eucalyptus-windows&lt;/name&gt;
    &lt;os&gt;
            &lt;type&gt;hvm&lt;/type&gt;
            &lt;loader&gt;/usr/lib/xen/boot/hvmloader&lt;/loader&gt;
            &lt;!-- &lt;boot dev='cdrom'/&gt; --&gt;
    &lt;/os&gt;
  &lt;features&gt;
    &lt;acpi/&gt;
    &lt;apic/&gt;
    &lt;pae/&gt;
  &lt;/features&gt;
  &lt;clock offset='localtime'/&gt;
  &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;
  &lt;on_reboot&gt;restart&lt;/on_reboot&gt;
  &lt;on_crash&gt;destroy&lt;/on_crash&gt;
    &lt;memory&gt;524288&lt;/memory&gt;
    &lt;vcpu&gt;1&lt;/vcpu&gt;
    &lt;devices&gt;
        &lt;emulator&gt;/usr/lib64/xen/bin/qemu-dm&lt;/emulator&gt;
        &lt;disk type='file'&gt;
            &lt;source file='/root/windows_2003.img'/&gt;
            &lt;target dev='hda' bus='ide'/&gt;
        &lt;/disk&gt;
        &lt;disk type='file' device='disk'&gt;
            &lt;driver name='tap' type='aio'/&gt;
            &lt;source file='/root/secondary.img'/&gt;
            &lt;target dev='xvda' bus='xen'/&gt;
        &lt;/disk&gt;
        &lt;disk type='file' device='floppy'&gt;
             &lt;source file='/root/floppy.img'/&gt;
             &lt;target dev='fda'/&gt;
        &lt;/disk&gt;
        &lt;disk type='file' device='cdrom'&gt;
            &lt;source file='eucawin.iso'/&gt;
            &lt;target dev='hdc'/&gt;
            &lt;readonly/&gt;
        &lt;/disk&gt;
        &lt;interface type='bridge'&gt;
            &lt;source bridge='xenbr0'/&gt;
            &lt;script path='/etc/xen/scripts/vif-bridge'/&gt;
        &lt;/interface&gt;
        &lt;serial type='pty'&gt;
           &lt;source path='/dev/pts/3'/&gt;
           &lt;target port='0'/&gt;
        &lt;/serial&gt;
        &lt;input type='tablet' bus='usb'/&gt;
        &lt;input type='mouse' bus='ps2'/&gt;
        &lt;graphics type='vnc' port='-1' autoport='yes' keymap='en-us' listen='0.0.0.0'/&gt;
    &lt;/devices&gt;
&lt;/domain&gt;</codeblock>
				</info>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:4">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:4">There is an issue with Xen paravirtualization drivers on some Windows versions. 64-bit Windows Server 2008, Windows Server 2008R2, and Windows 7 have driver signing requirements that prevent unsigned drivers from being installed. The supplied drivers in the package are not signed. To resolve this issue:</cmd>
				<substeps class="- topic/ol task/substeps " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="substeps:1">
					<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="substep:1">
						<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:5">Log in to the Windows VM.</cmd>
					</substep>
					<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="substep:2">
						<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:6">Launch <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeph:3">cmd.exe</codeph> as administrator, and execute the following commands:</cmd>
						<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="info:3">

							<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeblock:3">bcdedit.exe -set loadoptions DISABLE_INTEGRITY_CHECKS
bcdedit.exe -set TESTSIGNING ON</codeblock>

						</info>
					</substep>
					<substep class="- topic/li task/substep " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="substep:3">
						<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:7">Reboot the VM.</cmd>
					</substep>
				</substeps>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:5">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:8">Log in to Windows and find the Eucalyptus installation files in the CDROM drive.</cmd>
				<choices class="- topic/ul task/choices " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="choices:1">
					<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="choice:1">For Windows Server 2003 R2, run <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeph:4">setup.exe</codeph>.</choice>
					<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="choice:2">For all others, run <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="codeph:5">EucalyptusWindowsIntegration.msi</codeph>. (setup.exe will automatically install .NET framework 2.0, which is not bundled in Server 2003 R2).</choice>
				</choices>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:6">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:9">In the <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:1">Choose your hypervisor</uicontrol> step, click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:2">XEN</uicontrol> and then click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:3">Next</uicontrol>.</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="info:4"><image href="images/ewi_hypervisor_xen.png" scale="80" alt="Eucalyptus Windows Integrator      select hypervisor window" placement="inline" class="- topic/image " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="image:1"/> <draft-comment translate="no" class="- topic/draft-comment " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="draft-comment:1">Should this be a separate section, like Active
						Directory and Remote Desktop? Scot: maybe combine all into one process file of separate tasks.</draft-comment></info>
				<stepresult class="- topic/itemgroup task/stepresult " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="stepresult:1">During the installation of drivers, warning messages might appear asking to
					confirm the driver installation. Click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:4">Continue</uicontrol> in all cases.</stepresult>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:7">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:10">At the end of Eucalyptus installation, the Xen driver setup will automatically start. When
					prompted to choose setup type, choose <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:5">Complete</uicontrol>. During the installation of drivers, warning messages might appear asking to confirm the driver installation. Click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:6">Continue</uicontrol> in all cases.</cmd>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:8">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:11">Reboot the Windows VM</cmd>
			</step>
			<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="step:9">
				<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="cmd:12">Open the Windows device manager and check that the following drivers are found for
					each device:</cmd>
				<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="info:5">
					<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="ul:2">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:5">Floppy disk drive</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:6">Disk drives: XEN PV SCSI Disk Device</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:7">SCSI and RAID controllers: Xen Block Device Driver</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:8">Network adapters: Xen Net Device Driver</li>
					</ul>
				</info>
				<stepresult class="- topic/itemgroup task/stepresult " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="stepresult:2">If the correct drivers are not found, question marks display on the devices.
					<ul class="- topic/ul " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="ul:3">
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:9">Right-click on the devices in question and run update drivers. The new hardware wizard displays.
						</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:10">When the new hardware wizard asks if Windows update is to be connected, click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:7">No, not this time</uicontrol>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:11">Choose <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:8">Install software automatically (recommended)</uicontrol>.</li>
						<li class="- topic/li " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="li:12">If a confirmation popup message displays, click <uicontrol class="+ topic/ph ui-d/uicontrol " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="uicontrol:9">Continue</uicontrol>.</li>
					</ul>
				</stepresult>
			</step>
		</steps>
		<postreq class="- topic/section task/postreq " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="postreq:1">You are now ready to <xref href="images_xen_win_ad.xml" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/images_xen_win_wis.dita" xtrc="xref:2" type="task"><?ditaot gentext?>Configure Active Directory<?ditaot genshortdesc?><desc class="- topic/desc "/></xref>.</postreq>
	</taskbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:109" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:107" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" href="../shared/images_xen_win.xml" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Create Windows Image (Xen)</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link></linkpool></related-links>
</task>