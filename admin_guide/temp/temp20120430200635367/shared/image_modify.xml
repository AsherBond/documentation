<?xml version="1.0" encoding="utf-8"?><?workdir /Users/scottb/Documents/git/documentation/admin_guide/temp/temp20120430200635367/shared?><?path2project ../?><task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="image_modify" ditaarch:DITAArchVersion="1.2" domains="(topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                            (topic task strictTaskbody-c)    " class="- topic/topic task/task " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="task:1">
    <title class="- topic/title " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="title:1">Modify an Image</title>
    <shortdesc class="- topic/shortdesc " xtrc="shortdesc:1" xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita"/>
    <prolog class="- topic/prolog "><copyright class="- topic/copyright " xtrc="copyright:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<copyryear class="- topic/copyryear " xtrc="copyryear:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" year="2012"/>
			<copyrholder class="- topic/copyrholder " xtrc="copyrholder:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus Systems</copyrholder>
		</copyright><metadata class="- topic/metadata "><prodinfo class="- topic/prodinfo " xtrc="prodinfo:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
			<prodname class="- topic/prodname " xtrc="prodname:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">Eucalyptus</prodname>
			<vrmlist class="- topic/vrmlist " xtrc="vrmlist:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap">
				<vrm class="- topic/vrm " version="3.0" xtrc="vrm:1" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"/>
			</vrmlist>
		</prodinfo></metadata></prolog><taskbody class="- topic/body task/taskbody " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="taskbody:1">
        <context class="- topic/section task/context " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="context:1">
        	<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="p:1">You might find that existing images in your cloud don't meet your needs.</p>
            <p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="p:2">To modify an existing image:</p>
        </context>
        <steps class="- topic/ol task/steps " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="steps:1">
            <step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:1">
            	<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:1">Create a mount point for your image.</cmd>
            	<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="info:1">
            		<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeblock:1">mkdir temp-mnt</codeblock>
            	</info>
            </step>
        	<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:2">
        		<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:2">Associate a loop block device to the image.</cmd>
        		<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="info:2">
        			<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeblock:2">losetup /dev/loop5 &lt;image_name&gt;</codeblock>
        			<p class="- topic/p " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="p:3">where <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeph:1">loop5</codeph> is a free device</p>
        		</info>
        	</step>
        	<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:3">
        		<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:3">Mount the image.</cmd>
        		<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="info:3">
        			<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeblock:3">mount /dev/loop5 temp-mnt</codeblock>
        		</info>
        	</step>
        	<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:4">
        		<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:4">Make procfs, dev and sysfs available in your chroot environment.</cmd>
        		<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="info:4">
        			<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeblock:4">mkdir -p temp-mnt/proc
mkdir -p temp-mnt/sys
mkdir -p temp-mnt/dev
mount -o bind /proc temp-mnt/proc
mount -o bind /sys temp-mnt/sys
mount -o bind /dev temp-mnt/dev</codeblock>
        		</info>
        	</step>
        	<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:5">
        		<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:5">You now have the image under <filepath class="+ topic/ph sw-d/filepath " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="filepath:1">temp-mnt</filepath> and you can copy over what you want into it. If you want to install packages into it, you have few options:</cmd>
        		<choices class="- topic/ul task/choices " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="choices:1">
        			<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="choice:1"><codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeph:2">chroot temp-mnt</codeph> and use <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeph:3">apt-get</codeph>,
        				<codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeph:4">yum</codeph>, or <codeph class="+ topic/ph pr-d/codeph " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeph:5">zypper</codeph> to install what you want.</choice>
        			<choice class="- topic/li task/choice " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="choice:2">Instruct the package manager program to use a different root (for example both dpkg and rpm uses the --root option)</choice>
        		</choices>
        	</step>
        	<step class="- topic/li task/step " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="step:6">
        		<cmd class="- topic/ph task/cmd " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="cmd:6">Unmount the drive.</cmd>
        		<info class="- topic/itemgroup task/info " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="info:5">
        			<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="codeblock:5">umount /dev/loop5
losetup -d /dev/loop5</codeblock>
        		</info>
        	</step>
        </steps>
    	<result class="- topic/section task/result " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="result:1">You now have an image with your modifications. You are ready to <xref href="add_existing.xml" class="- topic/xref " xtrf="/Users/scottb/Documents/git/documentation/shared/image_modify.dita" xtrc="xref:1" type="task"><?ditaot usertext?>add the image<?ditaot genshortdesc?><desc class="- topic/desc "/></xref> to
    		Eucalyptus.</result>
    </taskbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:104" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap"><link class="- topic/link " mapclass="- map/topicref " type="concept" xtrc="topicref:102" xtrf="/Users/scottb/Documents/git/documentation/ag.ditamap" href="../shared/working_images.xml" role="parent"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Image Tasks</linktext><?ditaot genshortdesc?><desc class="- topic/desc "/></link></linkpool></related-links>
</task>